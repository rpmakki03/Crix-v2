(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2664:function(e,a,i){Promise.resolve().then(i.bind(i,9197)),Promise.resolve().then(i.t.bind(i,4811,23)),Promise.resolve().then(i.t.bind(i,2778,23)),Promise.resolve().then(i.bind(i,4270)),Promise.resolve().then(i.bind(i,1554)),Promise.resolve().then(i.bind(i,2267))},4270:function(e,a,i){"use strict";i.d(a,{Navigation:function(){return y}});var r=i(7437),t=i(7648),n=i(9376),s=i(5922),o=i(2267),l=i(2265),d=i(1804),c=i(9345),m=i(2369);function g(e){let{onConnect:a}=e,[i,t]=(0,l.useState)(!1),[n,s]=(0,l.useState)(""),[o,g]=(0,l.useState)(!1),p=async()=>{t(!0);try{if(void 0!==window.ethereum){let e=await window.ethereum.request({method:"eth_requestAccounts"});e.length>0&&a("metamask",e[0])}else alert("MetaMask is not installed! Please install MetaMask to continue.")}catch(e){console.error("Error connecting to MetaMask:",e),alert("Failed to connect to MetaMask")}t(!1)},u=async()=>{t(!0);try{if(void 0!==window.solana){let e=await window.solana.connect();a("phantom",e.publicKey.toString())}else alert("Phantom wallet is not installed! Please install Phantom to continue.")}catch(e){console.error("Error connecting to Phantom:",e),alert("Failed to connect to Phantom")}t(!1)};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("button",{onClick:p,disabled:i,className:"flex items-center justify-center gap-3 px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5"}),i?"Connecting...":"Connect MetaMask"]}),(0,r.jsxs)("button",{onClick:u,disabled:i,className:"flex items-center justify-center gap-3 px-6 py-3 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition-colors disabled:opacity-50",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5"}),i?"Connecting...":"Connect Phantom"]})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("span",{className:"text-muted-foreground",children:"or"})}),o?(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&(a("email",n),s(""),g(!1))},className:"space-y-3",children:[(0,r.jsx)("input",{type:"email",placeholder:"Enter your email",value:n,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary",required:!0}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4"}),"Sign In"]}),(0,r.jsx)("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-lg font-semibold hover:bg-secondary/80 transition-colors",children:"Cancel"})]})]}):(0,r.jsxs)("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center gap-3 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:[(0,r.jsx)(c.Z,{className:"h-5 w-5"}),"Sign in with Email"]})]})}var p=i(5929),u=i(7226),h=i(7692),f=i(4794);function y(){var e,a;let i=(0,n.usePathname)();(0,n.useRouter)();let{theme:d,setTheme:c}=(0,s.F)(),{user:y,connectUser:x,disconnectUser:b}=(0,o.a)(),[j,v]=(0,l.useState)(!1),[k,w]=(0,l.useState)(!1),N=[{href:"/",label:"Home"},{href:"/packs",label:"Packs"},{href:"/market",label:"Market"},{href:"/collection",label:"My Collection"},{href:"/my-team",label:"My Team"}];return(0,r.jsx)("nav",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,r.jsxs)(t.default,{href:"/",className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:(0,r.jsx)("span",{className:"text-lg font-bold text-primary-foreground",children:"C"})}),(0,r.jsx)("span",{className:"text-xl font-bold text-foreground",children:"Crix"})]}),(0,r.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:N.map(e=>(0,r.jsx)(t.default,{href:e.href,className:"\n                  text-sm font-medium transition-colors hover:text-primary\n                  ".concat(i===e.href?"text-primary":"text-muted-foreground","\n                "),children:e.label},e.href))}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("button",{onClick:()=>c("dark"===d?"light":"dark"),className:"   inline-flex items-center justify-center rounded-md text-sm font-medium   transition-colors focus-visible:outline-none focus-visible:ring-2   focus-visible:ring-ring focus-visible:ring-offset-2   disabled:pointer-events-none disabled:opacity-50   hover:bg-accent hover:text-accent-foreground   h-10 w-10   ",children:[(0,r.jsx)(p.Z,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(u.Z,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}),y?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-primary/10 rounded-lg",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-sm font-medium text-foreground",children:"email"===y.type?y.email:"".concat(null===(e=y.address)||void 0===e?void 0:e.slice(0,6),"...").concat(null===(a=y.address)||void 0===a?void 0:a.slice(-4))})]}),(0,r.jsx)("button",{onClick:b,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Login"})]}),k&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center min-h-screen bg-black/40",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg px-6 py-4 max-w-xs w-full flex flex-col items-center justify-center",children:[(0,r.jsx)("div",{className:"text-center text-lg font-semibold mb-4",children:"Already signed up?"}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,r.jsx)("button",{onClick:()=>{w(!1),window.location.href="/login"},className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:"Login"}),(0,r.jsx)("button",{onClick:()=>{w(!1),window.location.href="/register"},className:"w-full px-4 py-2 bg-secondary text-secondary-foreground rounded-lg font-semibold hover:bg-secondary/80 transition-colors",children:"Register"}),(0,r.jsx)("button",{onClick:()=>w(!1),className:"w-full px-4 py-2 bg-muted text-muted-foreground rounded-lg font-semibold hover:bg-muted/80 transition-colors",children:"Cancel"})]})]})})]})]})]}),j&&!y&&(0,r.jsx)("div",{className:"py-4 border-t border-border",children:(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsx)(g,{onConnect:(e,a)=>{x(e,a),v(!1)}})})}),(0,r.jsx)("div",{className:"md:hidden py-4 border-t border-border",children:(0,r.jsx)("div",{className:"flex items-center justify-center space-x-6",children:N.map(e=>(0,r.jsx)(t.default,{href:e.href,className:"\n                  text-sm font-medium transition-colors hover:text-primary\n                  ".concat(i===e.href?"text-primary":"text-muted-foreground","\n                "),children:e.label},e.href))})})]})})}},6586:function(e,a,i){"use strict";i.d(a,{JK:function(){return r},lB:function(){return t},yG:function(){return n}});let r=[{id:"1",name:"Virat Kohli",image:"/assets/Virat.jpg",price:5e3,rarity:"legendary",position:"Batsman",team:"India",rating:94},{id:"2",name:"Rohit Sharma",image:"/assets/Rohit.jpg",price:5e3,rarity:"legendary",position:"Batsman",team:"India",rating:94},{id:"3",name:"Jasprit Bumrah",image:"/assets/Bumrah.jpg",price:1e3,rarity:"epic",position:"Bowler",team:"India",rating:92},{id:"5",name:"Mitchell Starc",image:"/assets/Starc.jpg",price:1e3,rarity:"epic",position:"Bowler",team:"Australia",rating:94},{id:"6",name:"Jasii",image:"/assets/Jasii.jpg",price:200,rarity:"common",position:"All-rounder",team:"Unknown",rating:92},{id:"7",name:"MS Dhoni",image:"/assets/msdhoni.png",price:5e3,rarity:"legendary",position:"Wicket-keeper",team:"India",rating:95},{id:"8",name:"Gautam Gambhir",image:"/assets/gautamgambhir.png",price:1e3,rarity:"epic",position:"Batsman",team:"India",rating:94},{id:"9",name:"James Anderson",image:"/assets/james anderson.png",price:1e3,rarity:"epic",position:"Bowler",team:"England",rating:96},{id:"10",name:"Virat Kohli",image:"/assets/India Baisc/Virat Kohli.jpg",price:5e3,rarity:"legendary",position:"Batsman",team:"India",rating:96},{id:"11",name:"Rohit Sharma",image:"/assets/India Baisc/Rohit Sharma.jpg",price:5e3,rarity:"legendary",position:"Batsman",team:"India",rating:95},{id:"12",name:"Jasprit Bumrah",image:"/assets/India Baisc/Jasprit Bumrah.jpg",price:1e3,rarity:"epic",position:"Bowler",team:"India",rating:93},{id:"14",name:"KL Rahul",image:"/assets/India Baisc/K L Rahul.jpg",price:500,rarity:"rare",position:"Wicket-keeper",team:"India",rating:89},{id:"15",name:"Hardik Pandya",image:"/assets/India Baisc/Hardik Pandya.jpg",price:500,rarity:"rare",position:"All-rounder",team:"India",rating:88},{id:"16",name:"Kuldeep Yadav",image:"/assets/India Baisc/Kuldeep Yadav.jpg",price:500,rarity:"rare",position:"Bowler",team:"India",rating:88},{id:"17",name:"Shreyas Iyer",image:"/assets/India Baisc/Shreyas Iyer.jpg",price:500,rarity:"rare",position:"Batsman",team:"India",rating:88},{id:"18",name:"Siraj",image:"/assets/India Baisc/Siraj.jpg",price:200,rarity:"common",position:"Bowler",team:"India",rating:88},{id:"19",name:"Ravindra Jadeja",image:"/assets/India Baisc/Ravindra Jadeja.jpg",price:200,rarity:"common",position:"All-rounder",team:"India",rating:87},{id:"20",name:"Arshdeep Singh",image:"/assets/India Baisc/Arshdeep Singh.jpg",price:200,rarity:"common",position:"Bowler",team:"India",rating:85},{id:"21",name:"Glenn Philips",image:"/assets/New Zealand/Glenn Philips 82.jpg",price:500,rarity:"rare",position:"Batsman",team:"New Zealand",rating:82},{id:"22",name:"Shane Warne",image:"/assets/Legends/Shayne Warne 94.jpg",price:5e3,rarity:"legendary",position:"Bowler",team:"Legends",rating:94},{id:"23",name:"Ben Stokes",image:"/assets/Match Edition/Ben Stokes 98.jpg",price:5e3,rarity:"legendary",position:"All-rounder",team:"England",rating:98},{id:"24",name:"Ryan Rickelton",image:"/assets/South Africa/Ryan Rickelton 80.jpg",price:200,rarity:"common",position:"Wicket-keeper",team:"South Africa",rating:80},{id:"25",name:"Glenn Maxwell",image:"/assets/Match Edition/Maxwell 98.jpg",price:5e3,rarity:"legendary",position:"All-rounder",team:"Australia",rating:98},{id:"26",name:"Yuvraj Singh",image:"/assets/Match Edition/Yuvraj Singh 98.jpg",price:5e3,rarity:"legendary",position:"All-rounder",team:"India",rating:98},{id:"27",name:"Mitchell Johnson",image:"/assets/Match Edition/Mitchell Jhonson.jpg",price:1e3,rarity:"epic",position:"Bowler",team:"Australia",rating:98},{id:"28",name:"Kumar Sangakkara",image:"/assets/Match Edition/Kumar Sangakara 95.jpg",price:1e3,rarity:"epic",position:"Wicket-keeper",team:"Sri Lanka",rating:95},{id:"29",name:"Travis Head",image:"/assets/Austrailia/Travis Head 93.jpg",price:1e3,rarity:"epic",position:"Batsman",team:"Australia",rating:93},{id:"30",name:"Chris Gayle",image:"/assets/Legends/Chris Gayle.jpg",price:5e3,rarity:"legendary",position:"Batsman",team:"Legends",rating:96},{id:"42",name:"Sachin Tendulkar",image:"/assets/Legends/Sachin Tendulkar 100.jpg",price:1e4,rarity:"legendary",position:"Batsman",team:"Legends",rating:100},{id:"31",name:"Shoaib Bahir",image:"/assets/England/Shoaib Bahir 76.jpg",price:200,rarity:"common",position:"Bowler",team:"England",rating:76},{id:"32",name:"Josh Tongue",image:"/assets/England/Josh Tongue 78.jpg",price:200,rarity:"common",position:"Bowler",team:"England",rating:78},{id:"33",name:"Brydon Carse",image:"/assets/England/Brydon Carse 76.jpg",price:200,rarity:"common",position:"Bowler",team:"England",rating:76},{id:"34",name:"Chris Woakes",image:"/assets/England/Chris Woakes 86.jpg",price:1e3,rarity:"rare",position:"All-rounder",team:"England",rating:86},{id:"35",name:"Jamie Smith",image:"/assets/England/Jamie Smith 75.jpg",price:200,rarity:"common",position:"Wicket-keeper",team:"England",rating:75},{id:"36",name:"Harry Brook",image:"/assets/England/Harry Brook 83.jpg",price:1e3,rarity:"rare",position:"Batsman",team:"England",rating:83},{id:"37",name:"Joe Root",image:"/assets/England/Joe Root 90.jpg",price:1e3,rarity:"rare",position:"Batsman",team:"England",rating:90},{id:"38",name:"Ollie Pope",image:"/assets/England/Ollie Pope 82.jpg",price:1e3,rarity:"rare",position:"Batsman",team:"England",rating:82},{id:"39",name:"Ben Duckett",image:"/assets/England/Ben Duckett 80.jpg",price:200,rarity:"common",position:"Batsman",team:"England",rating:80},{id:"40",name:"Zack Crawley",image:"/assets/England/Zack Crawley 78.jpg",price:200,rarity:"common",position:"Batsman",team:"England",rating:78},{id:"41",name:"Aiden Markram",image:"/assets/Match Edition/Aiden Markram 96.jpg",price:1e3,rarity:"epic",position:"Batsman",team:"South Africa",rating:96},{id:"42",name:"Rohit Sharma",image:"/assets/Match Edition/Rohit Sharma 100.jpg",price:5e3,rarity:"legendary",position:"Batsman",team:"India",rating:100},{id:"43",name:"Shubman Gill",image:"/assets/Match Edition/Shubman Gill 99.jpg",price:5e3,rarity:"legendary",position:"Batsman",team:"India",rating:99}],t=[{id:"basic",name:"Basic Pack",price:99,image:"/assets/packs/basic.jpg",description:"Guaranteed common player",cardCount:1,excludeRarities:["rare","epic","legendary"]},{id:"standard",name:"Standard Pack",price:399,image:"/assets/packs/standard.jpg",description:"2 cards, any country",cardCount:2},{id:"ultimate",name:"Ultimate Pack",price:999,image:"/assets/packs/Ultimate.jpg",description:"3 cards: 1 Legendary, 1 Epic, 1 Rare",cardCount:3}];function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0;if(3===e&&!(null==a?void 0:a.excludeRarities)&&!(null==a?void 0:a.guaranteedCard)){let e=r.filter(e=>"legendary"===e.rarity&&100===e.rating),a=r.filter(e=>"legendary"===e.rarity&&e.rating<=96),i=r.filter(e=>"epic"===e.rarity),t=r.filter(e=>"rare"===e.rarity),n=e=>e[Math.floor(Math.random()*e.length)];return[n(e.length>0&&.001>Math.random()?e:a),n(i),n(t)]}let i=[...r];if((null==a?void 0:a.excludeRarities)&&(i=i.filter(e=>!a.excludeRarities.includes(e.rarity))),i=i.filter(e=>"legendary"===e.rarity?e.rating<=96:e.rating<=95),null==a?void 0:a.guaranteedCard){let r=i.find(e=>e.name===a.guaranteedCard);if(r)return[r,...i.filter(e=>e.name!==a.guaranteedCard).sort(()=>.5-Math.random()).slice(0,e-1)]}return i.sort(()=>.5-Math.random()).slice(0,e)}},1554:function(e,a,i){"use strict";i.d(a,{ThemeProvider:function(){return n}});var r=i(7437);i(2265);var t=i(5922);function n(e){let{children:a,...i}=e;return(0,r.jsx)(t.f,{...i,children:a})}},2267:function(e,a,i){"use strict";i.d(a,{UserProvider:function(){return l},a:function(){return d}});var r=i(7437),t=i(2265),n=i(6586),s=i(3448);let o=(0,t.createContext)(void 0);function l(e){let{children:a}=e,[i,l]=(0,t.useState)(null),[d,c]=(0,t.useState)([]);(0,t.useEffect)(()=>{let e=localStorage.getItem("crix_user");e&&l(JSON.parse(e))},[]),(0,t.useEffect)(()=>{if(i){let e=localStorage.getItem("crix_userCards_".concat(i.type,"_").concat(i.address||i.email||""));e?c(JSON.parse(e)):c([])}else c([])},[i]),(0,t.useEffect)(()=>{i&&localStorage.setItem("crix_userCards_".concat(i.type,"_").concat(i.address||i.email||""),JSON.stringify(d))},[i,d]),(0,t.useEffect)(()=>{let{data:e}=s.O.auth.onAuthStateChange((e,a)=>{a&&a.user?(l({type:"email",email:a.user.email}),localStorage.setItem("crix_user",JSON.stringify({type:"email",email:a.user.email}))):(l(null),localStorage.removeItem("crix_user"))});return()=>{e.subscription.unsubscribe()}},[]),(0,t.useEffect)(()=>{(async()=>{if(i&&"email"===i.type&&i.email){let{data:{user:e}}=await s.O.auth.getUser();if(e){let{data:a,error:i}=await s.O.from("user_cards").select("card_id").eq("user_id",e.id);!i&&a&&c(a.map(e=>n.JK.find(a=>a.id===e.card_id)).filter(Boolean))}}})()},[i]);let m=async e=>{if(c(a=>[...a,e]),i&&"email"===i.type&&i.email){let{data:{user:a}}=await s.O.auth.getUser();a&&await s.O.from("user_cards").insert({user_id:a.id,card_id:e.id})}},g=async e=>{if(c(a=>a.filter(a=>a.id!==e)),i&&"email"===i.type&&i.email){let{data:{user:a}}=await s.O.auth.getUser();a&&await s.O.from("user_cards").delete().eq("user_id",a.id).eq("card_id",e)}};return(0,r.jsx)(o.Provider,{value:{user:i,userCards:d,connectUser:(e,a)=>{let i={type:e,...a&&{address:a},..."email"===e&&a&&{email:a}};l(i),localStorage.setItem("crix_user",JSON.stringify(i));let r=localStorage.getItem("crix_userCards_".concat(e,"_").concat(a||""));r?c(JSON.parse(r)):c([])},disconnectUser:()=>{l(null),c([]),localStorage.removeItem("crix_user")},addCardToCollection:m,removeCardFromCollection:g},children:a})}function d(){let e=(0,t.useContext)(o);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},3448:function(e,a,i){"use strict";i.d(a,{O:function(){return n},cn:function(){return s}});var r=i(1994),t=i(3335);let n=(0,i(6580).eI)("https://tdsmuwfwriqlywkxwhol.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRkc211d2Z3cmlxbHl3a3h3aG9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyODg2OTksImV4cCI6MjA2Njg2NDY5OX0.HEvZrllzeR-0YfhswqakzFFoH5MoNJBzKXFvtwYkUhY");function s(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];return(0,t.m6)((0,r.W)(a))}},2778:function(){}},function(e){e.O(0,[2,855,972,96,971,117,744],function(){return e(e.s=2664)}),_N_E=e.O()}]);